<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Asset Smoke Test</title>
<!-- CSP: same-origin 스크립트만 허용, 외부 네트워크는 jsDelivr만 -->
<meta http-equiv="Content-Security-Policy"
      content="default-src 'self';
               img-src 'self' https://cdn.jsdelivr.net data:;
               connect-src 'self' https://data.jsdelivr.com;
               script-src 'self';
               style-src 'self' 'unsafe-inline';
               object-src 'none'">

<style>
  body{font:14px/1.5 system-ui, sans-serif; padding:16px}
  #log{white-space:pre-wrap; background:#f7f7f7; border:1px solid #eee; padding:8px; margin:8px 0}
  #grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(64px,1fr)); gap:8px}
  #grid img{width:100%; height:100%; object-fit:contain; image-rendering:pixelated; border:1px solid #ddd; background:#fff}
  #canvas{image-rendering:pixelated; width:256px; height:256px; border:1px solid #ddd; background:#f8f8f8}
</style>

<h1>Asset Smoke Test</h1>
<div id="log">starting…</div>
<canvas id="canvas" width="64" height="64"></canvas>
<h3>Previews</h3>
<div id="grid"></div>

<!-- ✅ 같은 출처에서 외부 JS로 로딩 (CSP 통과) -->
<script src="./test.js" defer></script>
